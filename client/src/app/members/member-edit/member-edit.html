@if (user) {
<div class="row">
    <div class="col-4">
        <h1>Your Profile</h1>
    </div>
    <div class="col-8">
        @if (editForm?.dirty) {
        <div class="alert alert-info pb-0">
            <p><strong>Information: </strong>You have made changes. Unsaved ones will be lost</p>
        </div>
        }
    </div>
    
    <div class="col-4">
        <div class="card">
            <img [src]="user.photoUrl || './assets/user.png'" [alt]="user.knownAs" 
                 class="card-img-top img-thumbnail">
            <div class="card-body">
                <div>
                    <strong>Location</strong>
                    <p>{{user.city}}, {{user.country}}</p>
                </div>
                <div>
                    <strong>Age:</strong>
                    <p>{{user.age}}</p>
                </div>
                <div>
                    <strong>Last Active</strong>
                    <p>{{user.lstActive}}</p>
                </div>
                <div>
                    <strong>Member Since</strong>
                    <p>{{user.createdAt}}</p>
                </div>
            </div>
            <div class="card-footer">
                <div class="btn-group d-flex">
                    <button 
                        form="saveChange" 
                        class="btn btn-success col-12"
                        type="submit"
                        [disabled]="!editForm?.dirty"
                    >Save Changes</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-8">
        <!-- Fixed tabset structure -->
        <tabset type="pills" [justified]="true">
            <!-- About Tab -->
            <tab heading="About {{user.knownAs}}">
                <div class="p-3">
                    <form id="saveChange" #editForm="ngForm" (ngSubmit)="updateMember()">
                        <h4 class="mt-2">Description</h4>
                        <textarea class="form-control" name="introduction" 
                                  [(ngModel)]="user.introduction" rows="4"></textarea>

                        <h4 class="mt-4">Looking For</h4>
                        <textarea class="form-control" name="lookingFor" 
                                  [(ngModel)]="user.lookingFor" rows="4"></textarea>

                        <h3 class="mt-4">Location</h3>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">City:</label>
                                <input type="text" name="city" [(ngModel)]="user.city" 
                                       class="form-control">
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">Country:</label>
                                <input type="text" name="country" [(ngModel)]="user.country" 
                                       class="form-control">
                            </div>
                        </div>
                    </form>
                </div>
            </tab>

            <!-- Edit Photo Tab -->
            <tab heading="Edit Photos">
                <div class="p-3">
                    <h4>Your Photos</h4>
                    <p class="text-muted">Add, delete, or set your main photo</p>
                    
                    <!-- Photo upload section -->
                    <div class="mb-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Add New Photo</h5>
                                <div class="mb-3">
                                    <input type="file" class="form-control" id="photoUpload" 
                                           accept="image/*">
                                </div>
                                <button class="btn btn-primary">
                                    <i class="fas fa-upload me-2"></i>Upload Photo
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Photo gallery -->
                    <app-photo-editor 
                        [member]="user"
                    ></app-photo-editor>
                </div>
            </tab>

            <!-- Add more tabs as needed -->
            <tab heading="Messages">
                <div class="p-3">
                    <h4>Your Messages</h4>
                    <p class="text-muted">No messages yet.</p>
                </div>
            </tab>
        </tabset>
    </div>
</div>
}